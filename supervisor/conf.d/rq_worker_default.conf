; ~/projects/deepseek_dispatcher-new/supervisor/conf.d/rq_worker_default.conf
[program:rq_worker_default]
command=/usr/local/bin/rq worker default --with-scheduler
directory=/app
autostart=true
autorestart=true
; 将标准错误输出和标准输出重定向到我们统一的日志文件
; 这里的日志文件名称应与 dispatcher/tasks/base_task.py 和 dispatcher/scheduler/job_dispatcher.py 中 get_logger("worker") 的名称一致
stderr_logfile=/app/logs/worker.log
stdout_logfile=/app/logs/worker.log
; 确保日志文件不会被 Supervisor 限制大小或滚动，让 Python Logger 负责
stderr_logfile_maxbytes=0
stdout_logfile_maxbytes=0
environment=PYTHONPATH="/app"
